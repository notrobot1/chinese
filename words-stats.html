<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–ª–æ–≤</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html, body {
      height: 100%;
      margin: 0;
      background-color: #f3f4f6;
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #page {
      width: 100%;
      max-width: 800px;
      height: 100%;
      max-height: 100vh;
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      padding: 1rem;
    }
  </style>
</head>
<body>

<div id="page">
  <h1 class="text-2xl font-bold text-center mb-4">
    –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–ª–æ–≤
  </h1>

  <!-- –°–ø–∏—Å–æ–∫ -->
  <div id="list" class="flex-grow overflow-auto space-y-2"></div>

  <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–º–æ–π -->
  <div class="mt-4 text-center">
    <a href="/chinese"
       class="inline-block px-4 py-2 bg-gray-300 rounded-xl hover:bg-gray-400 text-gray-800 font-medium">
      –î–æ–º–æ–π
    </a>
  </div>
</div>

<script>
  const SCORE_KEY = "wordScores";
  const listEl = document.getElementById("list");

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ü–µ–Ω–∫–∏
  const scores = JSON.parse(localStorage.getItem(SCORE_KEY) || "{}");

  // –ï—Å–ª–∏ –ø—É—Å—Ç–æ
  if (Object.keys(scores).length === 0) {
    listEl.innerHTML = `
      <div class="text-center text-gray-500 mt-8">
        –ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö.<br>
        –°—ã–≥—Ä–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—É–Ω–¥–æ–≤ üôÇ
      </div>
    `;
  } else {
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ –º–∞—Å—Å–∏–≤ –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ–º
    const sorted = Object.entries(scores)
      .map(([hanzi, score]) => ({ hanzi, score }))
      .sort((a, b) => a.score - b.score);

    sorted.forEach(({ hanzi, score }) => {
      const item = document.createElement("div");

      item.className =
        "flex justify-between items-center px-4 py-3 bg-gray-100 rounded-xl";

      item.innerHTML = `
        <div class="text-xl font-medium">${hanzi}</div>
        <div class="text-sm font-semibold ${
          score < 0 ? "text-red-600" :
          score < 10 ? "text-yellow-600" :
          "text-green-600"
        }">
          ${score} –±–∞–ª–ª–æ–≤
        </div>
      `;

      listEl.appendChild(item);
    });
  }
</script>

</body>
</html>
